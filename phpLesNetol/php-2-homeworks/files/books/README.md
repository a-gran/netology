# Задача 3. Поиск книг

#### Загрузка данных через API в формате JSON и сохранение их в CSV файл

## Описание
Результатом выполнения задачи является скрипт books.php, который на вход принимает поисковый запрос, а результат поиска книг в `Google Books API` сохраняет в CSV-файл `books.csv`, в формате `id,title,authors`.

## Реализация
JSON данные запрашиваются по URL `https://www.googleapis.com/books/v1/volumes?q={query}`, где `{query}` это поисковый запрос (аргумент скрипта).

Запрос JSON данных по заданному URL - это тоже, что и получение файла на удаленном ресурсе. Т.е. для этого отлично подойдет функция [file_get_contents](http://php.net/manual/ru/function.file-get-contents.php).

Поисковую строку следует закодировать для использования в запросе при помощи функции [urlencode](http://php.net/manual/ru/function.urlencode.php). Без этой функции возникнут ошибки при попытке использовать поисковый запрос с пробелами.

В этой задаче не требуется запрашивать все страницы с результатами поиска, достаточно ограничиться первой страницей (только один запрос к API). Однако, "пагинация" (pagination - это разбиение результатов запроса на множество страниц) используется довольно часто и будет полезно понимать как изменить параметры URL для запроса других страниц. Узнать об этом можно в документации (Google Books API)[https://developers.google.com/books/docs/v1/using].

После получения массива данных из JSON-строки - следует произвести проверку на ошибки. Используйте функции [json_last_error](http://php.net/manual/ru/function.json-last-error.php) или [json_last_error_msg](http://php.net/manual/ru/function.json-last-error-msg.php).

Также следует проверять получаемые аргументы и результат работы всех функций на возможные ошибки. Скрипт должен корректно работать при запуске без параметров (например, выводить сообщение).

## Примеры
Вызов скрипта происходит следующим образом:
```
# php books.php Гарри Поттер
```

Результат это файл `books.csv` со списком названий и авторов полученных книг
